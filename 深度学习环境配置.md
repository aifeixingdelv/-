## ğŸ“…2023.10.15
## ç¡¬ä»¶å¹³å°
* æ‹¯æ•‘è€…Y9000P 2022
* ubuntu 20.04.6
* æ˜¾å¡ï¼š3060ti
* æ˜¾å¡é©±åŠ¨ï¼š525.125.06

## å¸¸ç”¨æ“ä½œ
1. å®‰è£…anacondaæœ€æ–°ç‰ˆ from [å®˜ç½‘](https://blog.csdn.net/abc20150125/article/details/129998028?ops_request_misc=&request_id=&biz_id=102&utm_term=ubuntu20.04%E5%AE%89%E8%A3%85anaconda&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-129998028.142%5Ev88%5Econtrol,239%5Ev2%5Einsert_chatgpt&spm=1018.2226.3001.4187)
   ```
   #åˆ›å»ºcondaç¯å¢ƒ
   conda create -n xxx python=3.9

   #è¿›å…¥condaç¯å¢ƒ
   source activate xxx 
   
   #é€€å‡ºcondaç¯å¢ƒ
   conda deactivate
   ```

2. æŸ¥çœ‹æ˜¾å¡é©±åŠ¨ä»¥åŠå½“å‰æ˜¾å¡é©±åŠ¨æ”¯æŒçš„æœ€é«˜cudaç‰ˆæœ¬ï¼š``` nvidia-smi ```
   
3. condaè™šæ‹Ÿç¯å¢ƒé…ç½®cudaï¼š
   * ä½¿ç”¨condaæ¥æœç´¢ä»“åº“æœ‰å“ªäº›cudaçš„ç‰ˆæœ¬å¯ä»¥å®‰è£…: ``` conda search cudatoolkit ```
   * å¦‚æœåˆšå¥½æœ‰æ»¡è¶³è¦æ±‚çš„ç‰ˆæœ¬ï¼Œç›´æ¥ä½¿ç”¨æ­¤è¯­å¥å®‰è£…å³å¯: ``` conda install cudatoolkit==(æŒ‡å®šç‰ˆæœ¬) ```
   * å¦‚æœæ²¡æœ‰æ»¡è¶³è¦æ±‚çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆåªèƒ½å»[å®˜ç½‘](https://developer.nvidia.com/cuda-toolkit-archive)ä¸‹è½½åŒ…ï¼Œè¿›è¡Œç¦»çº¿å®‰è£…,æœ¬åœ°å®‰è£…ç¦»çº¿åŒ…çš„å‘½ä»¤æ˜¯ï¼š``` conda install --use-local åŒ…å ```(æš‚æœªæˆåŠŸ)
  
4. condaè™šæ‹Ÿç¯å¢ƒé…ç½®cudnnï¼š
   * ä½¿ç”¨condaæ¥æœç´¢ä»“åº“æœ‰å“ªäº›cudnnçš„ç‰ˆæœ¬å¯ä»¥å®‰è£…: ``` conda search cudnn ```
   * å¦‚æœåˆšå¥½æœ‰æ»¡è¶³è¦æ±‚çš„ç‰ˆæœ¬ï¼Œç›´æ¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥å®‰è£…å³å¯: ``` conda install cudnn==(æŒ‡å®šçš„ç‰ˆæœ¬) ```
   * ä¹Ÿå¯ä»¥åœ¨å®‰è£…å¥½cudatoolkitä¹‹åç›´æ¥æ‰§è¡Œ ``` conda install cudnn ```, ç³»ç»Ÿä¼šè‡ªåŠ¨åŒ¹é…å¯¹åº”çš„ç‰ˆæœ¬
   * å¦‚æœæ²¡æœ‰æ»¡è¶³è¦æ±‚çš„ç‰ˆæœ¬ï¼Œé‚£ä¹ˆåªèƒ½å»[å®˜ç½‘](https://developer.nvidia.com/rdp/cudnn-archive)ä¸‹è½½åŒ…ï¼Œè¿›è¡Œç¦»çº¿å®‰è£…, å®‰è£…å‘½ä»¤ï¼š``` conda install --use-local æœ¬åœ°cudnnåŒ…æ‰€åœ¨çš„è·¯å¾„ ```(æš‚æœªæˆåŠŸ)
   * cudnnä¸cudaå¯¹åº”å…³ç³» from [å®˜ç½‘](https://developer.nvidia.com/rdp/cudnn-archive)
  
5. åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…å®Œcudaå’Œcudnnæƒ³è¦æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼Œä¸èƒ½ä½¿ç”¨nvcc -Vå‘½ä»¤æµ‹è¯•ï¼Œéœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…pytorchåŒ…è¿›è¡Œæµ‹è¯•,è£…å¥½pytorchåï¼Œå‘½ä»¤è¡Œè¾“å…¥pythonï¼Œè¿›å…¥pythonçš„å‘½ä»¤è¡Œï¼Œå¯¼å…¥torchåŒ…,è¿›è¡ŒæŸ¥è¯¢
    ```python
    import torch 
    # æŸ¥è¯¢cudaç‰ˆæœ¬
    print(torch.version.cuda)
    # æŸ¥è¯¢cudnnç‰ˆæœ¬
    print(torch.backends.cudnn.version())
    ```

6.  condaè™šæ‹Ÿç¯å¢ƒé…ç½®torchå’Œtorchvision, å»[å®˜ç½‘](https://pytorch.org/get-started/previous-versions/)å¤åˆ¶å®‰è£…å‘½ä»¤ï¼Œè¿›è¡Œå®‰è£…ï¼Œcondaå®‰è£…ä¸ä¸‹æ¥ï¼ŒæŠŠcondaæ”¹ä¸ºpipå¥½åƒä¹Ÿå¯ä»¥ï¼Œä¾‹å¦‚:
    ``` 
    # CUDA 11.8
    conda install pytorch==2.0.1 torchvision==0.15.2 torchaudio==2.0.2 pytorch-cuda=11.8 -c pytorch -c nvidia 
    ```
    
7.  æµ‹è¯•pytorchæ˜¯å¦å®‰è£…æˆåŠŸ
    ```python
    import torch 
    import torchvision
    #éªŒè¯torchæ˜¯å¦æˆåŠŸ
    print(torch.__version__ )
    #éªŒè¯torchisionæ˜¯å¦æˆåŠŸ
    print(torchvision.__version__)
    #æ£€éªŒGPUæ˜¯å¦å¯ç”¨
    print(torch.cuda.is_available())
    ```

## todo
* cudnnä¸cudaå¯¹åº”å…³ç³»åŠå®‰è£… from [å®˜ç½‘](https://developer.nvidia.com/rdp/cudnn-archive)
* pytorchä¸cudaå¯¹åº”å…³ç³»åŠå®‰è£… from [å®˜ç½‘](https://pytorch.org/get-started/previous-versions/)
